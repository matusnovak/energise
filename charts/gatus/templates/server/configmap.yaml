{{- include "configmap-spec" (dict 
  "Values" .Values
  "Release" .Release
  "Chart" .Chart
  "component" "server") }}
data:
  "config.yaml": |
    metrics: true
    endpoints:
      {{- if .Values.global.deploy.authelia }}
      - name: Authelia Web
        group: Authelia
        url: https://traefik-server.{{ .Release.Namespace }}.svc.cluster.local
        interval: 5m
        ui:
          hide-hostname: true
          hide-url: true
        client:
          insecure: true
          timeout: 10s
        headers:
          "Host": "{{ .Values.global.authelia.server.subdomain }}.{{ .Values.global.domain }}"
        conditions:
          - "[STATUS] == any(200)"
      - name: Authelia Server
        group: Authelia
        url: http://{{ .Chart.Name }}-proxy.{{ .Release.Namespace }}.svc.cluster.local/deployment/authelia-server
        interval: 5m
        ui:
          hide-hostname: true
          hide-url: true
        client:
          timeout: 10s
        conditions:
          - "[STATUS] == 200"
      - name: Authelia Redis
        group: Authelia
        url: http://{{ .Chart.Name }}-proxy.{{ .Release.Namespace }}.svc.cluster.local/deployment/authelia-redis
        interval: 5m
        ui:
          hide-hostname: true
          hide-url: true
        client:
          timeout: 10s
        conditions:
          - "[STATUS] == 200"
      - name: Authelia SMTP
        group: Authelia
        url: http://{{ .Chart.Name }}-proxy.{{ .Release.Namespace }}.svc.cluster.local/deployment/authelia-smtp
        interval: 5m
        ui:
          hide-hostname: true
          hide-url: true
        client:
          timeout: 10s
        conditions:
          - "[STATUS] == 200"
      {{- end }}

      {{- if .Values.global.deploy.openldap }}
      - name: OpenLDAP Server
        group: OpenLDAP
        url: http://{{ .Chart.Name }}-proxy.{{ .Release.Namespace }}.svc.cluster.local/deployment/openldap-server
        interval: 5m
        ui:
          hide-hostname: true
          hide-url: true
        client:
          timeout: 10s
        conditions:
          - "[STATUS] == 200"
      {{- end }}

      {{- if .Values.global.deploy.phpldapadmin }}
      - name: phpLDAPAdmin Web
        group: phpLDAPAdmin
        url: https://traefik-server.{{ .Release.Namespace }}.svc.cluster.local
        interval: 5m
        ui:
          hide-hostname: true
          hide-url: true
        client:
          insecure: true
          timeout: 10s
        headers:
          "Host": "{{ .Values.global.phpldapadmin.server.subdomain }}.{{ .Values.global.domain }}"
        conditions:
          - "[STATUS] == any(200)"
      - name: phpLDAPAdmin Server
        group: phpLDAPAdmin
        url: http://{{ .Chart.Name }}-proxy.{{ .Release.Namespace }}.svc.cluster.local/deployment/phpldapadmin-server
        interval: 5m
        ui:
          hide-hostname: true
          hide-url: true
        client:
          timeout: 10s
        conditions:
          - "[STATUS] == 200"
      {{- end }}

      {{- if .Values.global.deploy.postgres }}
      - name: Postgres Server
        group: Postgres
        url: http://{{ .Chart.Name }}-proxy.{{ .Release.Namespace }}.svc.cluster.local/deployment/postgres-server
        interval: 5m
        ui:
          hide-hostname: true
          hide-url: true
        client:
          timeout: 10s
        conditions:
          - "[STATUS] == 200"
      - name: Postgres Backup
        group: Postgres
        url: http://{{ .Chart.Name }}-proxy.{{ .Release.Namespace }}.svc.cluster.local/deployment/postgres-backup
        interval: 5m
        ui:
          hide-hostname: true
          hide-url: true
        client:
          timeout: 10s
        conditions:
          - "[STATUS] == 200"
      {{- end }}

      {{- if .Values.global.deploy.mariadb }}
      - name: MariaDB Server
        group: MariaDB
        url: http://{{ .Chart.Name }}-proxy.{{ .Release.Namespace }}.svc.cluster.local/deployment/mariadb-server
        interval: 5m
        ui:
          hide-hostname: true
          hide-url: true
        client:
          timeout: 10s
        conditions:
          - "[STATUS] == 200"
      {{- end }}

      {{- if .Values.global.deploy.loki }}
      - name: Loki Server
        group: Loki
        url: http://{{ .Chart.Name }}-proxy.{{ .Release.Namespace }}.svc.cluster.local/deployment/loki-server
        interval: 5m
        ui:
          hide-hostname: true
          hide-url: true
        client:
          timeout: 10s
        conditions:
          - "[STATUS] == 200"
      - name: Loki Cassandra
        group: Loki
        url: http://{{ .Chart.Name }}-proxy.{{ .Release.Namespace }}.svc.cluster.local/deployment/loki-cassandra
        interval: 5m
        ui:
          hide-hostname: true
          hide-url: true
        client:
          timeout: 10s
        conditions:
          - "[STATUS] == 200"
      - name: Loki MinIO
        group: Loki
        url: http://{{ .Chart.Name }}-proxy.{{ .Release.Namespace }}.svc.cluster.local/deployment/loki-minio
        interval: 5m
        ui:
          hide-hostname: true
          hide-url: true
        client:
          timeout: 10s
        conditions:
          - "[STATUS] == 200"
      {{- end }}

      {{- if .Values.global.deploy.prometheus }}
      - name: Prometheus Web
        group: Prometheus
        url: https://traefik-server.{{ .Release.Namespace }}.svc.cluster.local
        interval: 5m
        ui:
          hide-hostname: true
          hide-url: true
        client:
          insecure: true
          timeout: 10s
        headers:
          "Host": "{{ .Values.global.prometheus.server.subdomain }}.{{ .Values.global.domain }}"
        conditions:
          - "[STATUS] == any(200, 401)"
      - name: Prometheus Server
        group: Prometheus
        url: http://{{ .Chart.Name }}-proxy.{{ .Release.Namespace }}.svc.cluster.local/deployment/prometheus-server
        interval: 5m
        ui:
          hide-hostname: true
          hide-url: true
        client:
          timeout: 10s
        conditions:
          - "[STATUS] == 200"
      {{- end }}

      {{- if .Values.global.deploy.errorpage }}
      - name: Error Page Web
        group: Error Page
        url: https://traefik-server.{{ .Release.Namespace }}.svc.cluster.local
        interval: 5m
        ui:
          hide-hostname: true
          hide-url: true
        client:
          insecure: true
          timeout: 10s
        headers:
          "Host": "error.{{ .Values.global.domain }}"
        conditions:
          - "[STATUS] == any(200, 404)"
      - name: Error Page Server
        group: Error Page
        url: http://{{ .Chart.Name }}-proxy.{{ .Release.Namespace }}.svc.cluster.local/deployment/errorpage-server
        interval: 5m
        ui:
          hide-hostname: true
          hide-url: true
        client:
          timeout: 10s
        conditions:
          - "[STATUS] == 200"
      {{- end }}

      {{- if .Values.global.deploy.grafana }}
      - name: Grafana Web
        group: Grafana
        url: https://traefik-server.{{ .Release.Namespace }}.svc.cluster.local
        interval: 5m
        ui:
          hide-hostname: true
          hide-url: true
        client:
          insecure: true
          timeout: 10s
        headers:
          "Host": "{{ .Values.global.grafana.server.subdomain }}.{{ .Values.global.domain }}"
        conditions:
          - "[STATUS] == any(200)"
      - name: Grafana Server
        group: Grafana
        url: http://{{ .Chart.Name }}-proxy.{{ .Release.Namespace }}.svc.cluster.local/deployment/grafana-server
        interval: 5m
        ui:
          hide-hostname: true
          hide-url: true
        client:
          timeout: 10s
        conditions:
          - "[STATUS] == 200"
      - name: Grafana Redis
        group: Grafana
        url: http://{{ .Chart.Name }}-proxy.{{ .Release.Namespace }}.svc.cluster.local/deployment/grafana-redis
        interval: 5m
        ui:
          hide-hostname: true
          hide-url: true
        client:
          timeout: 10s
        conditions:
          - "[STATUS] == 200"
      - name: Grafana MinIO
        group: Grafana
        url: http://{{ .Chart.Name }}-proxy.{{ .Release.Namespace }}.svc.cluster.local/deployment/grafana-minio
        interval: 5m
        ui:
          hide-hostname: true
          hide-url: true
        client:
          timeout: 10s
        conditions:
          - "[STATUS] == 200"
      - name: Grafana SMTP
        group: Grafana
        url: http://{{ .Chart.Name }}-proxy.{{ .Release.Namespace }}.svc.cluster.local/deployment/grafana-smtp
        interval: 5m
        ui:
          hide-hostname: true
          hide-url: true
        client:
          timeout: 10s
        conditions:
          - "[STATUS] == 200"
      {{- end }}

      {{- if .Values.global.deploy.homer }}
      - name: Homer Web
        group: Homer
        url: https://traefik-server.{{ .Release.Namespace }}.svc.cluster.local
        interval: 5m
        ui:
          hide-hostname: true
          hide-url: true
        client:
          insecure: true
          timeout: 10s
        headers:
          "Host": "{{ .Values.global.homer.server.subdomain }}{{ if .Values.global.homer.server.subdomain }}.{{ end }}{{ .Values.global.domain }}"
        conditions:
          - "[STATUS] == any(200, 401)"
      - name: Homer Server
        group: Homer
        url: http://{{ .Chart.Name }}-proxy.{{ .Release.Namespace }}.svc.cluster.local/deployment/homer-server
        interval: 5m
        ui:
          hide-hostname: true
          hide-url: true
        client:
          timeout: 10s
        conditions:
          - "[STATUS] == 200"
      {{- end }}

      {{- if .Values.global.deploy.adminer }}
      - name: Adminer Web
        group: Adminer
        url: https://traefik-server.{{ .Release.Namespace }}.svc.cluster.local
        interval: 5m
        ui:
          hide-hostname: true
          hide-url: true
        client:
          insecure: true
          timeout: 10s
        headers:
          "Host": "{{ .Values.global.adminer.server.subdomain }}.{{ .Values.global.domain }}"
        conditions:
          - "[STATUS] == any(200, 401)"
      - name: Adminer Server
        group: Adminer
        url: http://{{ .Chart.Name }}-proxy.{{ .Release.Namespace }}.svc.cluster.local/deployment/adminer-server
        interval: 5m
        ui:
          hide-hostname: true
          hide-url: true
        client:
          timeout: 10s
        conditions:
          - "[STATUS] == 200"
      {{- end }}

      {{- if .Values.global.deploy.keel }}
      - name: Keel Web
        group: Keel
        url: https://traefik-server.{{ .Release.Namespace }}.svc.cluster.local
        interval: 5m
        ui:
          hide-hostname: true
          hide-url: true
        client:
          insecure: true
          timeout: 10s
        headers:
          "Host": "{{ .Values.global.keel.server.subdomain }}.{{ .Values.global.domain }}"
        conditions:
          - "[STATUS] == any(200)"
      - name: Keel Server
        group: Keel
        url: http://{{ .Chart.Name }}-proxy.{{ .Release.Namespace }}.svc.cluster.local/deployment/keel-server
        interval: 5m
        ui:
          hide-hostname: true
          hide-url: true
        client:
          timeout: 10s
        conditions:
          - "[STATUS] == 200"
      {{- end }}

      {{- if .Values.global.deploy.gitlab }}
      - name: GitLab Web
        group: GitLab
        url: https://traefik-server.{{ .Release.Namespace }}.svc.cluster.local
        interval: 5m
        ui:
          hide-hostname: true
          hide-url: true
        client:
          insecure: true
          timeout: 10s
        headers:
          "Host": "{{ .Values.global.gitlab.server.subdomain }}.{{ .Values.global.domain }}"
        conditions:
          - "[STATUS] == any(200)"
      - name: GitLab Registry
        group: GitLab
        url: https://traefik-server.{{ .Release.Namespace }}.svc.cluster.local
        interval: 5m
        ui:
          hide-hostname: true
          hide-url: true
        client:
          insecure: true
          timeout: 10s
        headers:
          "Host": "{{ .Values.global.gitlab.server.subdomainRegistry }}.{{ .Values.global.domain }}"
        conditions:
          - "[STATUS] == any(200)"
      - name: GitLab Pages
        group: GitLab
        url: https://traefik-server.{{ .Release.Namespace }}.svc.cluster.local
        interval: 5m
        ui:
          hide-hostname: true
          hide-url: true
        client:
          insecure: true
          timeout: 10s
        headers:
          "Host": "{{ .Values.global.gitlab.server.subdomainPages }}.{{ .Values.global.domain }}"
        conditions:
          - "[STATUS] == 404"
          - "[BODY] == pat(*<h3>The page you're looking for could not be found.</h3>*)"
      - name: GitLab Server
        group: GitLab
        url: http://{{ .Chart.Name }}-proxy.{{ .Release.Namespace }}.svc.cluster.local/deployment/gitlab-server
        interval: 5m
        ui:
          hide-hostname: true
          hide-url: true
        client:
          timeout: 10s
        conditions:
          - "[STATUS] == 200"
      {{- if .Values.global.gitlab.runner.token }}
      - name: GitLab Runner
        group: GitLab
        url: http://{{ .Chart.Name }}-proxy.{{ .Release.Namespace }}.svc.cluster.local/deployment/gitlab-runner
        interval: 5m
        ui:
          hide-hostname: true
          hide-url: true
        client:
          timeout: 10s
        conditions:
          - "[STATUS] == 200"
      {{- end }}
      - name: GitLab Cache
        group: GitLab
        url: http://{{ .Chart.Name }}-proxy.{{ .Release.Namespace }}.svc.cluster.local/deployment/gitlab-cache
        interval: 5m
        ui:
          hide-hostname: true
          hide-url: true
        client:
          timeout: 10s
        conditions:
          - "[STATUS] == 200"
      - name: GitLab Kroki
        group: GitLab
        url: http://{{ .Chart.Name }}-proxy.{{ .Release.Namespace }}.svc.cluster.local/deployment/gitlab-kroki
        interval: 5m
        ui:
          hide-hostname: true
          hide-url: true
        client:
          timeout: 10s
        conditions:
          - "[STATUS] == 200"
      - name: GitLab Kroki-blockdiag
        group: GitLab
        url: http://{{ .Chart.Name }}-proxy.{{ .Release.Namespace }}.svc.cluster.local/deployment/gitlab-krokiblockdiag
        interval: 5m
        ui:
          hide-hostname: true
          hide-url: true
        client:
          timeout: 10s
        conditions:
          - "[STATUS] == 200"
      - name: GitLab Kroki-bpmn
        group: GitLab
        url: http://{{ .Chart.Name }}-proxy.{{ .Release.Namespace }}.svc.cluster.local/deployment/gitlab-krokibpmn
        interval: 5m
        ui:
          hide-hostname: true
          hide-url: true
        client:
          timeout: 10s
        conditions:
          - "[STATUS] == 200"
      - name: GitLab Kroki-excalidraw
        group: GitLab
        url: http://{{ .Chart.Name }}-proxy.{{ .Release.Namespace }}.svc.cluster.local/deployment/gitlab-krokiexcalidraw
        interval: 5m
        ui:
          hide-hostname: true
          hide-url: true
        client:
          timeout: 10s
        conditions:
          - "[STATUS] == 200"
      - name: GitLab Kroki-mermaid
        group: GitLab
        url: http://{{ .Chart.Name }}-proxy.{{ .Release.Namespace }}.svc.cluster.local/deployment/gitlab-krokimermaid
        interval: 5m
        ui:
          hide-hostname: true
          hide-url: true
        client:
          timeout: 10s
        conditions:
          - "[STATUS] == 200"
      - name: GitLab Redis
        group: GitLab
        url: http://{{ .Chart.Name }}-proxy.{{ .Release.Namespace }}.svc.cluster.local/deployment/gitlab-redis
        interval: 5m
        ui:
          hide-hostname: true
          hide-url: true
        client:
          timeout: 10s
        conditions:
          - "[STATUS] == 200"
      - name: GitLab SMTP
        group: GitLab
        url: http://{{ .Chart.Name }}-proxy.{{ .Release.Namespace }}.svc.cluster.local/deployment/gitlab-smtp
        interval: 5m
        ui:
          hide-hostname: true
          hide-url: true
        client:
          timeout: 10s
        conditions:
          - "[STATUS] == 200"
      - name: GitLab Storage
        group: GitLab
        url: http://{{ .Chart.Name }}-proxy.{{ .Release.Namespace }}.svc.cluster.local/deployment/gitlab-storage
        interval: 5m
        ui:
          hide-hostname: true
          hide-url: true
        client:
          timeout: 10s
        conditions:
          - "[STATUS] == 200"
      {{- end }}

      {{- if .Values.global.deploy.drawio }}
      - name: DrawIO Web
        group: DrawIO
        url: https://traefik-server.{{ .Release.Namespace }}.svc.cluster.local
        interval: 5m
        ui:
          hide-hostname: true
          hide-url: true
        client:
          insecure: true
          timeout: 10s
        headers:
          "Host": "{{ .Values.global.drawio.server.subdomain }}.{{ .Values.global.domain }}"
        conditions:
          - "[STATUS] == any(200, 403, 401)"
      - name: DrawIO Server
        group: DrawIO
        url: http://{{ .Chart.Name }}-proxy.{{ .Release.Namespace }}.svc.cluster.local/deployment/drawio-server
        interval: 5m
        ui:
          hide-hostname: true
          hide-url: true
        client:
          timeout: 10s
        conditions:
          - "[STATUS] == 200"
      {{- end }}

      {{- if .Values.global.deploy.haste }}
      - name: Haste Web
        group: Haste
        url: https://traefik-server.{{ .Release.Namespace }}.svc.cluster.local
        interval: 5m
        ui:
          hide-hostname: true
          hide-url: true
        client:
          insecure: true
          timeout: 10s
        headers:
          "Host": "{{ .Values.global.haste.server.subdomain }}.{{ .Values.global.domain }}"
        conditions:
          - "[STATUS] == any(200, 403, 401)"
      - name: Haste Server
        group: Haste
        url: http://{{ .Chart.Name }}-proxy.{{ .Release.Namespace }}.svc.cluster.local/deployment/haste-server
        interval: 5m
        ui:
          hide-hostname: true
          hide-url: true
        client:
          timeout: 10s
        conditions:
          - "[STATUS] == 200"
      {{- end }}

      {{- if .Values.global.deploy.matrix }}
      - name: Matrix API
        group: Matrix
        url: https://traefik-server.{{ .Release.Namespace }}.svc.cluster.local/.well-known/matrix/server
        interval: 5m
        ui:
          hide-hostname: true
          hide-url: true
        client:
          insecure: true
          timeout: 10s
          ignore-follow: true
        headers:
          "Host": "{{ .Values.global.matrix.server.subdomain }}.{{ .Values.global.domain }}"
        conditions:
          - "[STATUS] == 200"
      - name: Matrix Web
        group: Matrix
        url: https://traefik-server.{{ .Release.Namespace }}.svc.cluster.local
        interval: 5m
        ui:
          hide-hostname: true
          hide-url: true
        client:
          insecure: true
          timeout: 10s
          ignore-follow: true
        headers:
          "Host": "{{ .Values.global.matrix.element.subdomain }}.{{ .Values.global.domain }}"
        conditions:
          - "[STATUS] == 200"
      - name: Matrix Redis
        group: Matrix
        url: http://{{ .Chart.Name }}-proxy.{{ .Release.Namespace }}.svc.cluster.local/deployment/matrix-redis
        interval: 5m
        ui:
          hide-hostname: true
          hide-url: true
        client:
          timeout: 10s
        conditions:
          - "[STATUS] == 200"
      - name: Matrix Nginx
        group: Matrix
        url: http://{{ .Chart.Name }}-proxy.{{ .Release.Namespace }}.svc.cluster.local/deployment/matrix-nginx
        interval: 5m
        ui:
          hide-hostname: true
          hide-url: true
        client:
          timeout: 10s
        conditions:
          - "[STATUS] == 200"
      - name: Matrix Element
        group: Matrix
        url: http://{{ .Chart.Name }}-proxy.{{ .Release.Namespace }}.svc.cluster.local/deployment/matrix-element
        interval: 5m
        ui:
          hide-hostname: true
          hide-url: true
        client:
          timeout: 10s
        conditions:
          - "[STATUS] == 200"
      {{- range $type, $config := .Values.global.matrix.server.workers }}
      {{- if $config.enabled }}
      - name: Matrix Server {{ $type | replace "_" " " | title }}
        group: Matrix
        url: http://{{ $.Chart.Name }}-proxy.{{ $.Release.Namespace }}.svc.cluster.local/deployment/matrix-server-{{ $type | replace "_" "-" }}
        interval: 5m
        ui:
          hide-hostname: true
          hide-url: true
        client:
          timeout: 10s
        conditions:
          - "[STATUS] == 200"
      {{- end }}
      {{- end }}
      {{- end }}

      {{- if .Values.global.deploy.joplin }}
      - name: Joplin Web
        group: Joplin
        url: https://traefik-server.{{ .Release.Namespace }}.svc.cluster.local
        interval: 5m
        ui:
          hide-hostname: true
          hide-url: true
        client:
          insecure: true
          timeout: 10s
        headers:
          "Host": "{{ .Values.global.joplin.server.subdomain }}.{{ .Values.global.domain }}"
        conditions:
          - "[STATUS] == 200"
      - name: Joplin Server
        group: Joplin
        url: http://{{ .Chart.Name }}-proxy.{{ .Release.Namespace }}.svc.cluster.local/deployment/joplin-server
        interval: 5m
        ui:
          hide-hostname: true
          hide-url: true
        client:
          timeout: 10s
        conditions:
          - "[STATUS] == 200"
      {{- end }}

      {{- if .Values.global.deploy.hedgedoc }}
      - name: HedgeDoc Web
        group: HedgeDoc
        url: https://traefik-server.{{ .Release.Namespace }}.svc.cluster.local
        interval: 5m
        ui:
          hide-hostname: true
          hide-url: true
        client:
          insecure: true
          timeout: 10s
        headers:
          "Host": "{{ .Values.global.hedgedoc.server.subdomain }}.{{ .Values.global.domain }}"
        conditions:
          - "[STATUS] == 200"
      - name: HedgeDoc Server
        group: HedgeDoc
        url: http://{{ .Chart.Name }}-proxy.{{ .Release.Namespace }}.svc.cluster.local/deployment/hedgedoc-server
        interval: 5m
        ui:
          hide-hostname: true
          hide-url: true
        client:
          timeout: 10s
        conditions:
          - "[STATUS] == 200"
      {{- end }}

      {{- if .Values.global.deploy.filebrowser }}
      - name: FileBrowser Web
        group: FileBrowser
        url: https://traefik-server.{{ .Release.Namespace }}.svc.cluster.local
        interval: 5m
        ui:
          hide-hostname: true
          hide-url: true
        client:
          insecure: true
          timeout: 10s
        headers:
          "Host": "{{ .Values.global.filebrowser.server.subdomain }}.{{ .Values.global.domain }}"
        conditions:
          - "[STATUS] == 200"
      - name: FileBrowser Server
        group: FileBrowser
        url: http://{{ .Chart.Name }}-proxy.{{ .Release.Namespace }}.svc.cluster.local/deployment/filebrowser-server
        interval: 5m
        ui:
          hide-hostname: true
          hide-url: true
        client:
          timeout: 10s
        conditions:
          - "[STATUS] == 200"
      {{- end }}

      {{- if .Values.global.deploy.qbitorrent }}
      - name: qBittorrent Web
        group: qBittorrent
        url: https://traefik-server.{{ .Release.Namespace }}.svc.cluster.local
        interval: 5m
        ui:
          hide-hostname: true
          hide-url: true
        client:
          insecure: true
          timeout: 10s
        headers:
          "Host": "{{ .Values.global.qbitorrent.server.subdomain }}.{{ .Values.global.domain }}"
        conditions:
          - "[STATUS] == 200"
      - name: qBittorrent Server
        group: qBittorrent
        url: http://{{ .Chart.Name }}-proxy.{{ .Release.Namespace }}.svc.cluster.local/deployment/qbitorrent-server
        interval: 5m
        ui:
          hide-hostname: true
          hide-url: true
        client:
          timeout: 10s
        conditions:
          - "[STATUS] == 200"
      {{- end }}

      {{- if .Values.global.deploy.send }}
      - name: Send Web
        group: Send
        url: https://traefik-server.{{ .Release.Namespace }}.svc.cluster.local
        interval: 5m
        ui:
          hide-hostname: true
          hide-url: true
        client:
          insecure: true
          timeout: 10s
        headers:
          "Host": "{{ .Values.global.send.server.subdomain }}.{{ .Values.global.domain }}"
        conditions:
          - "[STATUS] == 200"
      - name: Send Server
        group: Send
        url: http://{{ .Chart.Name }}-proxy.{{ .Release.Namespace }}.svc.cluster.local/deployment/send-server
        interval: 5m
        ui:
          hide-hostname: true
          hide-url: true
        client:
          timeout: 10s
        conditions:
          - "[STATUS] == 200"
      {{- end }}

      {{- if .Values.global.deploy.syncthing }}
      - name: Syncthing Web
        group: Syncthing
        url: https://traefik-server.{{ .Release.Namespace }}.svc.cluster.local
        interval: 5m
        ui:
          hide-hostname: true
          hide-url: true
        client:
          insecure: true
          timeout: 10s
        headers:
          "Host": "{{ .Values.global.syncthing.server.subdomain }}.{{ .Values.global.domain }}"
        conditions:
          - "[STATUS] == 401"
      - name: Syncthing Server
        group: Syncthing
        url: http://{{ .Chart.Name }}-proxy.{{ .Release.Namespace }}.svc.cluster.local/deployment/syncthing-server
        interval: 5m
        ui:
          hide-hostname: true
          hide-url: true
        client:
          timeout: 10s
        conditions:
          - "[STATUS] == 200"
      {{- end }}

      {{- if .Values.global.deploy.photoprism }}
      - name: PhotoPrism Web
        group: PhotoPrism
        url: https://traefik-server.{{ .Release.Namespace }}.svc.cluster.local
        interval: 5m
        ui:
          hide-hostname: true
          hide-url: true
        client:
          insecure: true
          timeout: 10s
        headers:
          "Host": "{{ .Values.global.photoprism.server.subdomain }}.{{ .Values.global.domain }}"
        conditions:
          - "[STATUS] == 200"
      - name: PhotoPrism Server
        group: PhotoPrism
        url: http://{{ .Chart.Name }}-proxy.{{ .Release.Namespace }}.svc.cluster.local/deployment/photoprism-server
        interval: 5m
        ui:
          hide-hostname: true
          hide-url: true
        client:
          timeout: 10s
        conditions:
          - "[STATUS] == 200"
      {{- end }}

      {{- if .Values.global.deploy.jellyfin }}
      - name: Jellyfin Web
        group: Jellyfin
        url: https://traefik-server.{{ .Release.Namespace }}.svc.cluster.local
        interval: 5m
        ui:
          hide-hostname: true
          hide-url: true
        client:
          insecure: true
          timeout: 10s
        headers:
          "Host": "{{ .Values.global.jellyfin.server.subdomain }}.{{ .Values.global.domain }}"
        conditions:
          - "[STATUS] == 200"
      - name: Jellyfin Server
        group: Jellyfin
        url: http://{{ .Chart.Name }}-proxy.{{ .Release.Namespace }}.svc.cluster.local/deployment/jellyfin-server
        interval: 5m
        ui:
          hide-hostname: true
          hide-url: true
        client:
          timeout: 10s
        conditions:
          - "[STATUS] == 200"
      {{- end }}

      {{- if .Values.global.deploy.vaultwarden }}
      - name: Vaultwarden Web
        group: Vaultwarden
        url: https://traefik-server.{{ .Release.Namespace }}.svc.cluster.local
        interval: 5m
        ui:
          hide-hostname: true
          hide-url: true
        client:
          insecure: true
          timeout: 10s
        headers:
          "Host": "{{ .Values.global.vaultwarden.server.subdomain }}.{{ .Values.global.domain }}"
        conditions:
          - "[STATUS] == 200"
      - name: Vaultwarden Server
        group: Vaultwarden
        url: http://{{ .Chart.Name }}-proxy.{{ .Release.Namespace }}.svc.cluster.local/deployment/vaultwarden-server
        interval: 5m
        ui:
          hide-hostname: true
          hide-url: true
        client:
          timeout: 10s
        conditions:
          - "[STATUS] == 200"
      - name: Vaultwarden SMTP
        group: Vaultwarden
        url: http://{{ .Chart.Name }}-proxy.{{ .Release.Namespace }}.svc.cluster.local/deployment/vaultwarden-smtp
        interval: 5m
        ui:
          hide-hostname: true
          hide-url: true
        client:
          timeout: 10s
        conditions:
          - "[STATUS] == 200"
      {{- end }}

      {{- if .Values.global.deploy.n8n }}
      - name: n8n Web
        group: n8n
        url: https://traefik-server.{{ .Release.Namespace }}.svc.cluster.local/signin
        interval: 5m
        ui:
          hide-hostname: true
          hide-url: true
        client:
          insecure: true
          timeout: 10s
        headers:
          "Host": "{{ .Values.global.n8n.server.subdomain }}.{{ .Values.global.domain }}"
        conditions:
          - "[STATUS] == 401"
      - name: n8n Server
        group: n8n
        url: http://{{ .Chart.Name }}-proxy.{{ .Release.Namespace }}.svc.cluster.local/deployment/n8n-server
        interval: 5m
        ui:
          hide-hostname: true
          hide-url: true
        client:
          timeout: 10s
        conditions:
          - "[STATUS] == 200"
      - name: n8n SMTP
        group: n8n
        url: http://{{ .Chart.Name }}-proxy.{{ .Release.Namespace }}.svc.cluster.local/deployment/n8n-smtp
        interval: 5m
        ui:
          hide-hostname: true
          hide-url: true
        client:
          timeout: 10s
        conditions:
          - "[STATUS] == 200"
      {{- end }}

      {{- if .Values.global.deploy.appsmith }}
      - name: Appsmith Web
        group: Appsmith
        url: https://traefik-server.{{ .Release.Namespace }}.svc.cluster.local
        interval: 5m
        ui:
          hide-hostname: true
          hide-url: true
        client:
          insecure: true
          timeout: 10s
        headers:
          "Host": "{{ .Values.global.appsmith.server.subdomain }}.{{ .Values.global.domain }}"
        conditions:
          - "[STATUS] == 200"
      - name: Appsmith Server
        group: Appsmith
        url: http://{{ .Chart.Name }}-proxy.{{ .Release.Namespace }}.svc.cluster.local/deployment/appsmith-server
        interval: 5m
        ui:
          hide-hostname: true
          hide-url: true
        client:
          timeout: 10s
        conditions:
          - "[STATUS] == 200"
      - name: Appsmith SMTP
        group: Appsmith
        url: http://{{ .Chart.Name }}-proxy.{{ .Release.Namespace }}.svc.cluster.local/deployment/appsmith-smtp
        interval: 5m
        ui:
          hide-hostname: true
          hide-url: true
        client:
          timeout: 10s
        conditions:
          - "[STATUS] == 200"
      {{- end }}

      {{- if .Values.global.deploy.debian }}
      - name: Debian Web
        group: Debian
        url: https://traefik-server.{{ .Release.Namespace }}.svc.cluster.local
        interval: 5m
        ui:
          hide-hostname: true
          hide-url: true
        client:
          insecure: true
          timeout: 10s
        headers:
          "Host": "{{ .Values.global.debian.server.subdomain }}.{{ .Values.global.domain }}"
        conditions:
          - "[STATUS] == 200"
      - name: Debian Server
        group: Debian
        url: http://{{ .Chart.Name }}-proxy.{{ .Release.Namespace }}.svc.cluster.local/deployment/debian-server
        interval: 5m
        ui:
          hide-hostname: true
          hide-url: true
        client:
          timeout: 10s
        conditions:
          - "[STATUS] == 200"
      {{- end }}
